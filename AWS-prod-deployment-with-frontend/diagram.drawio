<mxfile host="app.diagrams.net" modified="2022-06-10T13:22:36.592Z" agent="5.0 (Windows)" etag="GxA3oJeGPIr6BWVfF6SN" version="19.0.3" type="github">
  <diagram id="mDt5uaCLTZAT6XnBU3LA" name="Page-1">
    <mxGraphModel dx="3107" dy="1014" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="827" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="QfXva4Vi_orBSrp60xKn-21" value="AWS Cloud" style="points=[[0,0],[0.25,0],[0.5,0],[0.75,0],[1,0],[1,0.25],[1,0.5],[1,0.75],[1,1],[0.75,1],[0.5,1],[0.25,1],[0,1],[0,0.75],[0,0.5],[0,0.25]];outlineConnect=0;gradientColor=none;html=1;whiteSpace=wrap;fontSize=12;fontStyle=0;container=1;pointerEvents=0;collapsible=0;recursiveResize=0;shape=mxgraph.aws4.group;grIcon=mxgraph.aws4.group_aws_cloud;strokeColor=#232F3E;fillColor=none;verticalAlign=bottom;align=center;spacingLeft=30;fontColor=#232F3E;dashed=0;labelPosition=center;verticalLabelPosition=top;" vertex="1" parent="1">
          <mxGeometry x="-684" y="120" width="1057" height="1329" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-22" value="eu-west-1" style="points=[[0,0],[0.25,0],[0.5,0],[0.75,0],[1,0],[1,0.25],[1,0.5],[1,0.75],[1,1],[0.75,1],[0.5,1],[0.25,1],[0,1],[0,0.75],[0,0.5],[0,0.25]];outlineConnect=0;gradientColor=none;html=1;whiteSpace=wrap;fontSize=12;fontStyle=0;container=1;pointerEvents=0;collapsible=0;recursiveResize=0;shape=mxgraph.aws4.group;grIcon=mxgraph.aws4.group_region;strokeColor=#147EBA;fillColor=none;verticalAlign=top;align=left;spacingLeft=30;fontColor=#147EBA;dashed=1;" vertex="1" parent="QfXva4Vi_orBSrp60xKn-21">
          <mxGeometry x="37" y="30" width="413" height="1290" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-124" value="Public subnet" style="points=[[0,0],[0.25,0],[0.5,0],[0.75,0],[1,0],[1,0.25],[1,0.5],[1,0.75],[1,1],[0.75,1],[0.5,1],[0.25,1],[0,1],[0,0.75],[0,0.5],[0,0.25]];outlineConnect=0;gradientColor=none;html=1;whiteSpace=wrap;fontSize=12;fontStyle=0;container=1;pointerEvents=0;collapsible=0;recursiveResize=0;shape=mxgraph.aws4.group;grIcon=mxgraph.aws4.group_security_group;grStroke=0;strokeColor=#248814;fillColor=#E9F3E6;verticalAlign=top;align=left;spacingLeft=30;fontColor=#248814;dashed=0;" vertex="1" parent="QfXva4Vi_orBSrp60xKn-22">
          <mxGeometry x="233" y="210" width="147" height="190" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-23" value="AZ eu-west-1b" style="fillColor=none;strokeColor=#147EBA;dashed=1;verticalAlign=top;fontStyle=0;fontColor=#147EBA;" vertex="1" parent="QfXva4Vi_orBSrp60xKn-22">
          <mxGeometry x="220" y="170" width="170" height="1100" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-27" value="Private subnet" style="points=[[0,0],[0.25,0],[0.5,0],[0.75,0],[1,0],[1,0.25],[1,0.5],[1,0.75],[1,1],[0.75,1],[0.5,1],[0.25,1],[0,1],[0,0.75],[0,0.5],[0,0.25]];outlineConnect=0;gradientColor=none;html=1;whiteSpace=wrap;fontSize=12;fontStyle=0;container=1;pointerEvents=0;collapsible=0;recursiveResize=0;shape=mxgraph.aws4.group;grIcon=mxgraph.aws4.group_security_group;grStroke=0;strokeColor=#147EBA;fillColor=#E6F2F8;verticalAlign=top;align=left;spacingLeft=30;fontColor=#147EBA;dashed=0;" vertex="1" parent="QfXva4Vi_orBSrp60xKn-22">
          <mxGeometry x="47" y="410" width="154.75" height="484" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-49" value="4" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#007CBD;strokeColor=none;fontColor=#FFFFFF;fontStyle=1;fontSize=22;labelBackgroundColor=none;" vertex="1" parent="QfXva4Vi_orBSrp60xKn-27">
          <mxGeometry x="222.25" y="144" width="40" height="38" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-25" value="VPC" style="points=[[0,0],[0.25,0],[0.5,0],[0.75,0],[1,0],[1,0.25],[1,0.5],[1,0.75],[1,1],[0.75,1],[0.5,1],[0.25,1],[0,1],[0,0.75],[0,0.5],[0,0.25]];outlineConnect=0;gradientColor=none;html=1;whiteSpace=wrap;fontSize=12;fontStyle=0;container=1;pointerEvents=0;collapsible=0;recursiveResize=0;shape=mxgraph.aws4.group;grIcon=mxgraph.aws4.group_vpc;strokeColor=#248814;fillColor=none;verticalAlign=top;align=left;spacingLeft=30;fontColor=#AAB7B8;dashed=0;" vertex="1" parent="QfXva4Vi_orBSrp60xKn-22">
          <mxGeometry x="20" y="130" width="380" height="1150" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-26" value="AZ eu-west-1a" style="fillColor=none;strokeColor=#147EBA;dashed=1;verticalAlign=top;fontStyle=0;fontColor=#147EBA;" vertex="1" parent="QfXva4Vi_orBSrp60xKn-25">
          <mxGeometry x="10" y="40.5" width="177" height="1099.5" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-28" value="RDS Master" style="outlineConnect=0;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;shape=mxgraph.aws3.rds_db_instance;fillColor=#2E73B8;gradientColor=none;" vertex="1" parent="QfXva4Vi_orBSrp60xKn-25">
          <mxGeometry x="77.25" y="831.75" width="49.5" height="66" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-33" value="" style="rounded=1;arcSize=10;dashed=1;strokeColor=#ff0000;fillColor=none;gradientColor=none;dashPattern=8 4;strokeWidth=2;" vertex="1" parent="QfXva4Vi_orBSrp60xKn-25">
          <mxGeometry x="28.5" y="790" width="323" height="149.5" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-34" value="sg-rds-in - Allow inbound from all region&#39;s VPC in port 5432&lt;br&gt;Deny egress to 0.0.0.0/0" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="QfXva4Vi_orBSrp60xKn-25">
          <mxGeometry x="28.5" y="800" width="323" height="30" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-39" value="6" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#007CBD;strokeColor=none;fontColor=#FFFFFF;fontStyle=1;fontSize=22;labelBackgroundColor=none;" vertex="1" parent="QfXva4Vi_orBSrp60xKn-25">
          <mxGeometry x="168.5" y="845.75" width="40" height="38" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-42" value="RDS Stand-by&lt;br&gt;Multi-AZ" style="outlineConnect=0;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;shape=mxgraph.aws3.rds_db_instance_standby_multi_az;fillColor=#2E73B8;gradientColor=none;" vertex="1" parent="QfXva4Vi_orBSrp60xKn-25">
          <mxGeometry x="258.75" y="830" width="49.5" height="66" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-93" value="Public subnet" style="points=[[0,0],[0.25,0],[0.5,0],[0.75,0],[1,0],[1,0.25],[1,0.5],[1,0.75],[1,1],[0.75,1],[0.5,1],[0.25,1],[0,1],[0,0.75],[0,0.5],[0,0.25]];outlineConnect=0;gradientColor=none;html=1;whiteSpace=wrap;fontSize=12;fontStyle=0;container=1;pointerEvents=0;collapsible=0;recursiveResize=0;shape=mxgraph.aws4.group;grIcon=mxgraph.aws4.group_security_group;grStroke=0;strokeColor=#248814;fillColor=#E9F3E6;verticalAlign=top;align=left;spacingLeft=30;fontColor=#248814;dashed=0;" vertex="1" parent="QfXva4Vi_orBSrp60xKn-25">
          <mxGeometry x="33" y="80" width="147" height="190" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-125" value="" style="rounded=1;arcSize=10;dashed=1;strokeColor=#ff0000;fillColor=none;gradientColor=none;dashPattern=8 4;strokeWidth=2;" vertex="1" parent="QfXva4Vi_orBSrp60xKn-25">
          <mxGeometry x="33" y="146" width="323" height="114" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-132" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="QfXva4Vi_orBSrp60xKn-25" source="QfXva4Vi_orBSrp60xKn-126" target="QfXva4Vi_orBSrp60xKn-129">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="195" y="310" />
              <mxPoint x="99" y="310" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-126" value="Public Application LB with public DNS name" style="outlineConnect=0;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;shape=mxgraph.aws3.application_load_balancer;fillColor=#F58536;gradientColor=none;" vertex="1" parent="QfXva4Vi_orBSrp60xKn-25">
          <mxGeometry x="160" y="157" width="69" height="72" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-128" value="sg-pub-alb-in Allow traffic from 0.0.0.0/0 to port 8083" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="QfXva4Vi_orBSrp60xKn-25">
          <mxGeometry x="36.5" y="110" width="323" height="30" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-129" value="ECS task definition&lt;br&gt;Running Front end&lt;br&gt;" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#D45B07;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.container_2;" vertex="1" parent="QfXva4Vi_orBSrp60xKn-25">
          <mxGeometry x="74.5" y="360" width="48" height="31" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-24" value="Private subnet" style="points=[[0,0],[0.25,0],[0.5,0],[0.75,0],[1,0],[1,0.25],[1,0.5],[1,0.75],[1,1],[0.75,1],[0.5,1],[0.25,1],[0,1],[0,0.75],[0,0.5],[0,0.25]];outlineConnect=0;gradientColor=none;html=1;whiteSpace=wrap;fontSize=12;fontStyle=0;container=1;pointerEvents=0;collapsible=0;recursiveResize=0;shape=mxgraph.aws4.group;grIcon=mxgraph.aws4.group_security_group;grStroke=0;strokeColor=#147EBA;fillColor=#E6F2F8;verticalAlign=top;align=left;spacingLeft=30;fontColor=#147EBA;dashed=0;" vertex="1" parent="QfXva4Vi_orBSrp60xKn-22">
          <mxGeometry x="230" y="410" width="150" height="495" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-47" value="" style="rounded=1;arcSize=10;dashed=1;strokeColor=#ff0000;fillColor=none;gradientColor=none;dashPattern=8 4;strokeWidth=2;" vertex="1" parent="QfXva4Vi_orBSrp60xKn-24">
          <mxGeometry x="-176.5" y="205" width="323" height="130" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-127" value="4" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#007CBD;strokeColor=none;fontColor=#FFFFFF;fontStyle=1;fontSize=22;labelBackgroundColor=none;" vertex="1" parent="QfXva4Vi_orBSrp60xKn-24">
          <mxGeometry x="38.75" y="237" width="40" height="38" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-46" value="Internal Application LB with private DNS name" style="outlineConnect=0;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;shape=mxgraph.aws3.application_load_balancer;fillColor=#F58536;gradientColor=none;" vertex="1" parent="QfXva4Vi_orBSrp60xKn-24">
          <mxGeometry x="-50" y="220" width="69" height="72" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-41" value="ECR" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;gradientColor=#F78E04;gradientDirection=north;fillColor=#D05C17;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.ecr;" vertex="1" parent="QfXva4Vi_orBSrp60xKn-22">
          <mxGeometry x="312" y="10" width="78" height="78" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-50" value="8" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#007CBD;strokeColor=none;fontColor=#FFFFFF;fontStyle=1;fontSize=22;labelBackgroundColor=none;" vertex="1" parent="QfXva4Vi_orBSrp60xKn-22">
          <mxGeometry x="257" y="20" width="40" height="38" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-29" value="Redis cluster&lt;br&gt;Multi-AZ shard distribution" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#2E27AD;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.elasticache_for_redis;" vertex="1" parent="QfXva4Vi_orBSrp60xKn-22">
          <mxGeometry x="84.13" y="1137.25" width="75.74" height="67" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-30" value="" style="rounded=1;arcSize=10;dashed=1;strokeColor=#ff0000;fillColor=none;gradientColor=none;dashPattern=8 4;strokeWidth=2;" vertex="1" parent="QfXva4Vi_orBSrp60xKn-22">
          <mxGeometry x="43.5" y="1091" width="333" height="159.5" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-31" value="sg-redis-in - Allow inbound from VPC range to 6379 TCP&lt;br&gt;Deny egress to 0.0.0.0/0" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="QfXva4Vi_orBSrp60xKn-22">
          <mxGeometry x="47" y="1101" width="323" height="30" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-40" value="7" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#007CBD;strokeColor=none;fontColor=#FFFFFF;fontStyle=1;fontSize=22;labelBackgroundColor=none;" vertex="1" parent="QfXva4Vi_orBSrp60xKn-22">
          <mxGeometry x="187" y="1137.25" width="40" height="38" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-43" value="Redis cluster&lt;br&gt;Multi-AZ shard distribution" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#2E27AD;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.elasticache_for_redis;" vertex="1" parent="QfXva4Vi_orBSrp60xKn-22">
          <mxGeometry x="250.25" y="1131" width="78" height="69" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-32" value="ECS task definition&lt;br&gt;Running FastAPI" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#D45B07;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.container_2;" vertex="1" parent="QfXva4Vi_orBSrp60xKn-22">
          <mxGeometry x="104.5" y="825" width="48" height="31" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-35" value="" style="rounded=1;arcSize=10;dashed=1;strokeColor=#ff0000;fillColor=none;gradientColor=none;dashPattern=8 4;strokeWidth=2;" vertex="1" parent="QfXva4Vi_orBSrp60xKn-22">
          <mxGeometry x="48.5" y="815" width="323" height="80" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-36" value="ECS task definition&lt;br&gt;Running FastAPI&lt;br&gt;&lt;br&gt;" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#D45B07;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.container_2;" vertex="1" parent="QfXva4Vi_orBSrp60xKn-22">
          <mxGeometry x="270.5" y="825" width="48" height="31" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-38" value="5" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#007CBD;strokeColor=none;fontColor=#FFFFFF;fontStyle=1;fontSize=22;labelBackgroundColor=none;" vertex="1" parent="QfXva4Vi_orBSrp60xKn-22">
          <mxGeometry x="188.5" y="825" width="40" height="38" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-44" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.243;entryY=0.125;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="QfXva4Vi_orBSrp60xKn-22" source="QfXva4Vi_orBSrp60xKn-46" target="QfXva4Vi_orBSrp60xKn-35">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="215.75" y="765" />
              <mxPoint x="126.75" y="765" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-45" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="QfXva4Vi_orBSrp60xKn-22" source="QfXva4Vi_orBSrp60xKn-46" target="QfXva4Vi_orBSrp60xKn-36">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="215.75" y="765" />
              <mxPoint x="294.75" y="765" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-37" value="sg-api-in - Allow inbound from private subnets in port range 5000-5100 TCP&lt;br&gt;Deny egress to 0.0.0.0/0" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="QfXva4Vi_orBSrp60xKn-22">
          <mxGeometry x="53.5" y="775" width="323" height="30" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-48" value="sg-pvt-alb-in Allow traffic from public subnets in port 8083 TCP" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="QfXva4Vi_orBSrp60xKn-22">
          <mxGeometry x="57" y="585" width="323" height="30" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-131" value="ECS task definition&lt;br&gt;Running Front end&lt;br&gt;" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#D45B07;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.container_2;" vertex="1" parent="QfXva4Vi_orBSrp60xKn-22">
          <mxGeometry x="280.25" y="490" width="48" height="31" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-133" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="QfXva4Vi_orBSrp60xKn-22" source="QfXva4Vi_orBSrp60xKn-126" target="QfXva4Vi_orBSrp60xKn-131">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="215" y="440" />
              <mxPoint x="304" y="440" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-138" value="" style="outlineConnect=0;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;shape=mxgraph.aws3.certificate_manager_2;fillColor=#759C3E;gradientColor=none;" vertex="1" parent="QfXva4Vi_orBSrp60xKn-22">
          <mxGeometry x="159.87" y="10" width="73.5" height="63" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-134" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="QfXva4Vi_orBSrp60xKn-22" source="QfXva4Vi_orBSrp60xKn-129" target="QfXva4Vi_orBSrp60xKn-46">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="217" y="506" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-222" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1.002;entryY=0.278;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="QfXva4Vi_orBSrp60xKn-21" source="QfXva4Vi_orBSrp60xKn-51" target="QfXva4Vi_orBSrp60xKn-23">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="449" y="506" />
              <mxPoint x="449" y="506" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-237" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="QfXva4Vi_orBSrp60xKn-21" source="QfXva4Vi_orBSrp60xKn-51">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="594" y="506" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-51" value="Transit gateway" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;gradientColor=#945DF2;gradientDirection=north;fillColor=#5A30B5;strokeColor=#ffffff;dashed=0;verticalLabelPosition=top;verticalAlign=bottom;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.transit_gateway;labelPosition=center;" vertex="1" parent="QfXva4Vi_orBSrp60xKn-21">
          <mxGeometry x="470" y="465" width="82" height="82" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-52" value="VPN Gateway" style="outlineConnect=0;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;shape=mxgraph.aws3.vpn_gateway;fillColor=#F58536;gradientColor=none;" vertex="1" parent="QfXva4Vi_orBSrp60xKn-21">
          <mxGeometry x="476.5" y="610" width="69" height="72" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-53" value="us-east-1" style="points=[[0,0],[0.25,0],[0.5,0],[0.75,0],[1,0],[1,0.25],[1,0.5],[1,0.75],[1,1],[0.75,1],[0.5,1],[0.25,1],[0,1],[0,0.75],[0,0.5],[0,0.25]];outlineConnect=0;gradientColor=none;html=1;whiteSpace=wrap;fontSize=12;fontStyle=0;container=1;pointerEvents=0;collapsible=0;recursiveResize=0;shape=mxgraph.aws4.group;grIcon=mxgraph.aws4.group_region;strokeColor=#147EBA;fillColor=none;verticalAlign=top;align=left;spacingLeft=30;fontColor=#147EBA;dashed=1;" vertex="1" parent="QfXva4Vi_orBSrp60xKn-21">
          <mxGeometry x="577" y="40" width="413" height="1280" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-55" value="AZ us-east-1b" style="fillColor=none;strokeColor=#147EBA;dashed=1;verticalAlign=top;fontStyle=0;fontColor=#147EBA;" vertex="1" parent="QfXva4Vi_orBSrp60xKn-53">
          <mxGeometry x="221.5" y="170" width="170" height="1090" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-57" value="AZ us-east-1a" style="fillColor=none;strokeColor=#147EBA;dashed=1;verticalAlign=top;fontStyle=0;fontColor=#147EBA;" vertex="1" parent="QfXva4Vi_orBSrp60xKn-53">
          <mxGeometry x="21.5" y="170" width="170" height="1090" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-54" value="Private subnet" style="points=[[0,0],[0.25,0],[0.5,0],[0.75,0],[1,0],[1,0.25],[1,0.5],[1,0.75],[1,1],[0.75,1],[0.5,1],[0.25,1],[0,1],[0,0.75],[0,0.5],[0,0.25]];outlineConnect=0;gradientColor=none;html=1;whiteSpace=wrap;fontSize=12;fontStyle=0;container=1;pointerEvents=0;collapsible=0;recursiveResize=0;shape=mxgraph.aws4.group;grIcon=mxgraph.aws4.group_security_group;grStroke=0;strokeColor=#147EBA;fillColor=#E6F2F8;verticalAlign=top;align=left;spacingLeft=30;fontColor=#147EBA;dashed=0;" vertex="1" parent="QfXva4Vi_orBSrp60xKn-53">
          <mxGeometry x="232.25" y="400" width="148.5" height="495" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-56" value="Private subnet" style="points=[[0,0],[0.25,0],[0.5,0],[0.75,0],[1,0],[1,0.25],[1,0.5],[1,0.75],[1,1],[0.75,1],[0.5,1],[0.25,1],[0,1],[0,0.75],[0,0.5],[0,0.25]];outlineConnect=0;gradientColor=none;html=1;whiteSpace=wrap;fontSize=12;fontStyle=0;container=1;pointerEvents=0;collapsible=0;recursiveResize=0;shape=mxgraph.aws4.group;grIcon=mxgraph.aws4.group_security_group;grStroke=0;strokeColor=#147EBA;fillColor=#E6F2F8;verticalAlign=top;align=left;spacingLeft=30;fontColor=#147EBA;dashed=0;" vertex="1" parent="QfXva4Vi_orBSrp60xKn-53">
          <mxGeometry x="32.25" y="400" width="148.5" height="495" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-58" value="" style="rounded=1;arcSize=10;dashed=1;strokeColor=#ff0000;fillColor=none;gradientColor=none;dashPattern=8 4;strokeWidth=2;" vertex="1" parent="QfXva4Vi_orBSrp60xKn-53">
          <mxGeometry x="44.25" y="795" width="323" height="80" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-59" value="ECR" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;gradientColor=#F78E04;gradientDirection=north;fillColor=#D05C17;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.ecr;" vertex="1" parent="QfXva4Vi_orBSrp60xKn-53">
          <mxGeometry x="317" y="20" width="78" height="78" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-60" value="VPC" style="points=[[0,0],[0.25,0],[0.5,0],[0.75,0],[1,0],[1,0.25],[1,0.5],[1,0.75],[1,1],[0.75,1],[0.5,1],[0.25,1],[0,1],[0,0.75],[0,0.5],[0,0.25]];outlineConnect=0;gradientColor=none;html=1;whiteSpace=wrap;fontSize=12;fontStyle=0;container=1;pointerEvents=0;collapsible=0;recursiveResize=0;shape=mxgraph.aws4.group;grIcon=mxgraph.aws4.group_vpc;strokeColor=#248814;fillColor=none;verticalAlign=top;align=left;spacingLeft=30;fontColor=#AAB7B8;dashed=0;" vertex="1" parent="QfXva4Vi_orBSrp60xKn-53">
          <mxGeometry x="15" y="120" width="380" height="1150" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-64" value="sg-api-in - Allow inbound from private subnets in port range 5000-5100&lt;br&gt;Deny egress to 0.0.0.0/0" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="QfXva4Vi_orBSrp60xKn-60">
          <mxGeometry x="29.25" y="635" width="323" height="30" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-71" value="" style="rounded=1;arcSize=10;dashed=1;strokeColor=#ff0000;fillColor=none;gradientColor=none;dashPattern=8 4;strokeWidth=2;" vertex="1" parent="QfXva4Vi_orBSrp60xKn-60">
          <mxGeometry x="42" y="961" width="333" height="159.5" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-72" value="Redis cluster&lt;br&gt;Multi-AZ shard distribution" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#2E27AD;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.elasticache_for_redis;" vertex="1" parent="QfXva4Vi_orBSrp60xKn-60">
          <mxGeometry x="75" y="1006.25" width="78" height="69" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-73" value="Redis cluster&lt;br&gt;Multi-AZ shard distribution" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#2E27AD;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.elasticache_for_redis;" vertex="1" parent="QfXva4Vi_orBSrp60xKn-60">
          <mxGeometry x="249.5" y="1006.25" width="78" height="69" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-74" value="sg-redis-in - Allow inbound from VPC range to 6379 TCP&lt;br&gt;Deny egress to 0.0.0.0/0" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="QfXva4Vi_orBSrp60xKn-60">
          <mxGeometry x="52" y="971" width="323" height="30" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-79" value="7" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#007CBD;strokeColor=none;fontColor=#FFFFFF;fontStyle=1;fontSize=22;labelBackgroundColor=none;" vertex="1" parent="QfXva4Vi_orBSrp60xKn-60">
          <mxGeometry x="183.5" y="1021" width="40" height="38" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-226" value="Public subnet" style="points=[[0,0],[0.25,0],[0.5,0],[0.75,0],[1,0],[1,0.25],[1,0.5],[1,0.75],[1,1],[0.75,1],[0.5,1],[0.25,1],[0,1],[0,0.75],[0,0.5],[0,0.25]];outlineConnect=0;gradientColor=none;html=1;whiteSpace=wrap;fontSize=12;fontStyle=0;container=1;pointerEvents=0;collapsible=0;recursiveResize=0;shape=mxgraph.aws4.group;grIcon=mxgraph.aws4.group_security_group;grStroke=0;strokeColor=#248814;fillColor=#E9F3E6;verticalAlign=top;align=left;spacingLeft=30;fontColor=#248814;dashed=0;" vertex="1" parent="QfXva4Vi_orBSrp60xKn-60">
          <mxGeometry x="22" y="80" width="147" height="190" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-225" value="Public subnet" style="points=[[0,0],[0.25,0],[0.5,0],[0.75,0],[1,0],[1,0.25],[1,0.5],[1,0.75],[1,1],[0.75,1],[0.5,1],[0.25,1],[0,1],[0,0.75],[0,0.5],[0,0.25]];outlineConnect=0;gradientColor=none;html=1;whiteSpace=wrap;fontSize=12;fontStyle=0;container=1;pointerEvents=0;collapsible=0;recursiveResize=0;shape=mxgraph.aws4.group;grIcon=mxgraph.aws4.group_security_group;grStroke=0;strokeColor=#248814;fillColor=#E9F3E6;verticalAlign=top;align=left;spacingLeft=30;fontColor=#248814;dashed=0;" vertex="1" parent="QfXva4Vi_orBSrp60xKn-60">
          <mxGeometry x="215" y="80" width="147" height="190" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-230" value="ECS task definition&lt;br&gt;Running Front end&lt;br&gt;" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#D45B07;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.container_2;" vertex="1" parent="QfXva4Vi_orBSrp60xKn-60">
          <mxGeometry x="67.5" y="350" width="48" height="31" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-70" value="ECS task definition&lt;br&gt;Running FastAPI" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#D45B07;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.container_2;" vertex="1" parent="QfXva4Vi_orBSrp60xKn-53">
          <mxGeometry x="283.25" y="805" width="48" height="31" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-75" value="ECS task definition&lt;br&gt;Running FastAPI" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#D45B07;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.container_2;" vertex="1" parent="QfXva4Vi_orBSrp60xKn-53">
          <mxGeometry x="82.5" y="805" width="48" height="31" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-76" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="QfXva4Vi_orBSrp60xKn-53" source="QfXva4Vi_orBSrp60xKn-67" target="QfXva4Vi_orBSrp60xKn-75">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="198" y="740" />
              <mxPoint x="107" y="740" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-77" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="QfXva4Vi_orBSrp60xKn-53" source="QfXva4Vi_orBSrp60xKn-67" target="QfXva4Vi_orBSrp60xKn-70">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="198" y="740" />
              <mxPoint x="307" y="740" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-78" value="5" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#007CBD;strokeColor=none;fontColor=#FFFFFF;fontStyle=1;fontSize=22;labelBackgroundColor=none;" vertex="1" parent="QfXva4Vi_orBSrp60xKn-53">
          <mxGeometry x="180.75" y="815" width="40" height="38" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-80" value="8" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#007CBD;strokeColor=none;fontColor=#FFFFFF;fontStyle=1;fontSize=22;labelBackgroundColor=none;" vertex="1" parent="QfXva4Vi_orBSrp60xKn-53">
          <mxGeometry x="267" y="20" width="40" height="38" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-221" value="" style="outlineConnect=0;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;shape=mxgraph.aws3.certificate_manager_2;fillColor=#759C3E;gradientColor=none;" vertex="1" parent="QfXva4Vi_orBSrp60xKn-53">
          <mxGeometry x="180" y="20" width="73.5" height="63" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-61" value="RDS Read Replica" style="outlineConnect=0;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;shape=mxgraph.aws3.rds_db_instance_read_replica;fillColor=#2E73B8;gradientColor=none;" vertex="1" parent="QfXva4Vi_orBSrp60xKn-53">
          <mxGeometry x="193.75" y="951.75" width="49.5" height="66" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-62" value="" style="rounded=1;arcSize=10;dashed=1;strokeColor=#ff0000;fillColor=none;gradientColor=none;dashPattern=8 4;strokeWidth=2;" vertex="1" parent="QfXva4Vi_orBSrp60xKn-53">
          <mxGeometry x="57" y="910" width="323" height="149.5" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-63" value="sg-rds-in - Allow inbound from all region&#39;s VPC in port 5432&lt;br&gt;Deny egress to 0.0.0.0/0" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="QfXva4Vi_orBSrp60xKn-53">
          <mxGeometry x="57" y="920" width="323" height="30" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-69" value="6" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#007CBD;strokeColor=none;fontColor=#FFFFFF;fontStyle=1;fontSize=22;labelBackgroundColor=none;" vertex="1" parent="QfXva4Vi_orBSrp60xKn-53">
          <mxGeometry x="136.5" y="965.75" width="40" height="38" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-227" value="" style="rounded=1;arcSize=10;dashed=1;strokeColor=#ff0000;fillColor=none;gradientColor=none;dashPattern=8 4;strokeWidth=2;" vertex="1" parent="QfXva4Vi_orBSrp60xKn-53">
          <mxGeometry x="43" y="266" width="323" height="114" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-234" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="QfXva4Vi_orBSrp60xKn-53" source="QfXva4Vi_orBSrp60xKn-228" target="QfXva4Vi_orBSrp60xKn-230">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="205" y="430" />
              <mxPoint x="107" y="430" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-235" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="QfXva4Vi_orBSrp60xKn-53" source="QfXva4Vi_orBSrp60xKn-228" target="QfXva4Vi_orBSrp60xKn-231">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="205" y="430" />
              <mxPoint x="293" y="430" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-228" value="Public Application LB with public DNS name" style="outlineConnect=0;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;shape=mxgraph.aws3.application_load_balancer;fillColor=#F58536;gradientColor=none;" vertex="1" parent="QfXva4Vi_orBSrp60xKn-53">
          <mxGeometry x="170" y="277" width="69" height="72" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-229" value="sg-pub-alb-in Allow traffic from 0.0.0.0/0 to port 8083" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="QfXva4Vi_orBSrp60xKn-53">
          <mxGeometry x="46.5" y="230" width="323" height="30" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-232" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="QfXva4Vi_orBSrp60xKn-53" source="QfXva4Vi_orBSrp60xKn-230" target="QfXva4Vi_orBSrp60xKn-67">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-233" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="QfXva4Vi_orBSrp60xKn-53" source="QfXva4Vi_orBSrp60xKn-231" target="QfXva4Vi_orBSrp60xKn-67">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-231" value="ECS task definition&lt;br&gt;Running Front end&lt;br&gt;" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#D45B07;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.container_2;" vertex="1" parent="QfXva4Vi_orBSrp60xKn-53">
          <mxGeometry x="267" y="470" width="48" height="31" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-66" value="" style="rounded=1;arcSize=10;dashed=1;strokeColor=#ff0000;fillColor=none;gradientColor=none;dashPattern=8 4;strokeWidth=2;" vertex="1" parent="QfXva4Vi_orBSrp60xKn-53">
          <mxGeometry x="44.25" y="600" width="323" height="130" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-67" value="Internal application LB with private DNS name" style="outlineConnect=0;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;shape=mxgraph.aws3.application_load_balancer;fillColor=#F58534;gradientColor=none;" vertex="1" parent="QfXva4Vi_orBSrp60xKn-53">
          <mxGeometry x="166.25" y="620" width="69" height="72" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-68" value="4" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#007CBD;strokeColor=none;fontColor=#FFFFFF;fontStyle=1;fontSize=22;labelBackgroundColor=none;" vertex="1" parent="QfXva4Vi_orBSrp60xKn-53">
          <mxGeometry x="257" y="637" width="40" height="38" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-65" value="sg-pvt-alb-in Allow traffic from public subnets in port 8083 TCP" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="QfXva4Vi_orBSrp60xKn-53">
          <mxGeometry x="45" y="560" width="323" height="30" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-83" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="QfXva4Vi_orBSrp60xKn-21" source="QfXva4Vi_orBSrp60xKn-51" target="QfXva4Vi_orBSrp60xKn-52">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-84" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="QfXva4Vi_orBSrp60xKn-21" source="QfXva4Vi_orBSrp60xKn-52" target="QfXva4Vi_orBSrp60xKn-51">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-85" value="Route 53 public zone" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#4D27AA;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.hosted_zone;" vertex="1" parent="QfXva4Vi_orBSrp60xKn-21">
          <mxGeometry x="474" y="740" width="78" height="77" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-86" value="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#007CBD;strokeColor=none;fontColor=#FFFFFF;fontStyle=1;fontSize=22;labelBackgroundColor=none;" vertex="1" parent="QfXva4Vi_orBSrp60xKn-21">
          <mxGeometry x="491" y="400" width="40" height="38" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-87" value="2" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#007CBD;strokeColor=none;fontColor=#FFFFFF;fontStyle=1;fontSize=22;labelBackgroundColor=none;" vertex="1" parent="QfXva4Vi_orBSrp60xKn-21">
          <mxGeometry x="531" y="572" width="40" height="38" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-88" value="3" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#007CBD;strokeColor=none;fontColor=#FFFFFF;fontStyle=1;fontSize=22;labelBackgroundColor=none;" vertex="1" parent="QfXva4Vi_orBSrp60xKn-21">
          <mxGeometry x="488" y="841" width="40" height="38" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-136" value="Route 53 private zone" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#4D27AA;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.hosted_zone;" vertex="1" parent="QfXva4Vi_orBSrp60xKn-21">
          <mxGeometry x="476.5" y="920" width="78" height="77" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-137" value="3" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#007CBD;strokeColor=none;fontColor=#FFFFFF;fontStyle=1;fontSize=22;labelBackgroundColor=none;" vertex="1" parent="QfXva4Vi_orBSrp60xKn-21">
          <mxGeometry x="490.5" y="1021" width="40" height="38" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-1" value="FastAPI AWS production&amp;nbsp; deployment - with FE" style="text;html=1;resizable=0;points=[];autosize=1;align=left;verticalAlign=top;spacingTop=-4;fontSize=30;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="-700" y="30" width="690" height="40" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-2" value="" style="line;strokeWidth=2;html=1;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="-700" y="90" width="1060" height="10" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-3" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#EAEDED;fontSize=22;fontColor=#FFFFFF;strokeColor=none;labelBackgroundColor=none;" vertex="1" parent="1">
          <mxGeometry x="460" y="83.5" width="539" height="1336.5" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-4" value="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#007CBD;strokeColor=none;fontColor=#FFFFFF;fontStyle=1;fontSize=22;labelBackgroundColor=none;" vertex="1" parent="1">
          <mxGeometry x="481.5" y="90.5" width="40" height="38" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-5" value="2" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#007CBD;strokeColor=none;fontColor=#FFFFFF;fontStyle=1;fontSize=22;labelBackgroundColor=none;" vertex="1" parent="1">
          <mxGeometry x="480" y="212.5" width="40" height="38" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-6" value="3" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#007CBD;strokeColor=none;fontColor=#FFFFFF;fontStyle=1;fontSize=22;labelBackgroundColor=none;" vertex="1" parent="1">
          <mxGeometry x="480" y="332.5" width="40" height="38" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-7" value="4" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#007CBD;strokeColor=none;fontColor=#FFFFFF;fontStyle=1;fontSize=22;labelBackgroundColor=none;" vertex="1" parent="1">
          <mxGeometry x="480" y="446.5" width="40" height="38" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-8" value="5" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#007CBD;strokeColor=none;fontColor=#FFFFFF;fontStyle=1;fontSize=22;labelBackgroundColor=none;" vertex="1" parent="1">
          <mxGeometry x="481.5" y="563.5" width="40" height="38" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-9" value="6" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#007CBD;strokeColor=none;fontColor=#FFFFFF;fontStyle=1;fontSize=22;labelBackgroundColor=none;" vertex="1" parent="1">
          <mxGeometry x="482.5" y="678.5" width="40" height="38" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-10" value="7" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#007CBD;strokeColor=none;fontColor=#FFFFFF;fontStyle=1;fontSize=22;labelBackgroundColor=none;" vertex="1" parent="1">
          <mxGeometry x="482" y="794.5" width="40" height="38" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-11" value="8" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#007CBD;strokeColor=none;fontColor=#FFFFFF;fontStyle=1;fontSize=22;labelBackgroundColor=none;" vertex="1" parent="1">
          <mxGeometry x="482.5" y="912.5" width="40" height="38" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-12" value="&lt;div&gt;As the deployment considers multi region, a transit gateway is suggested to ensure inter-VPC connectivity, as well as connectivity to the VPN gateway.&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#FF2414&quot;&gt;&lt;b&gt;Note: &lt;/b&gt;Transit gateway should never route traffic from public subnets to the VPN gateway, otherwise we&#39;re opening a DMZ zone which can lead to a security concern.&lt;/font&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=top;spacingTop=-4;fontSize=14;labelBackgroundColor=none;whiteSpace=wrap;" vertex="1" parent="1">
          <mxGeometry x="533" y="90" width="449" height="118" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-13" value="A VPN gateway is required, can have multiple if we want redundancy, which will connect site-to-site to the office building. The gateway can be deployed on a single region and then leverage on the transit gateway routing table to distribute traffic across the different VPCs in the different regions." style="text;html=1;align=left;verticalAlign=top;spacingTop=-4;fontSize=14;labelBackgroundColor=none;whiteSpace=wrap;" vertex="1" parent="1">
          <mxGeometry x="532" y="213" width="450" height="115" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-14" value="&lt;div&gt;A Route 53 private zone is desired in case we want to use a private DNS to hit the private LB, a Route 53 resolver connected to local DNS servers might be needed.&lt;/div&gt;&lt;div&gt;Another Route 53 public zone is needed so that we can publicly expose the frontend to the internet&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=top;spacingTop=-4;fontSize=14;labelBackgroundColor=none;whiteSpace=wrap;" vertex="1" parent="1">
          <mxGeometry x="532" y="331" width="450" height="117" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-15" value="An internal Load balancer is suggested to ensure distribution across the different API servers hosted by containers, the LB will have a DNS zone as specified in entry #3." style="text;html=1;align=left;verticalAlign=top;spacingTop=-4;fontSize=14;labelBackgroundColor=none;whiteSpace=wrap;" vertex="1" parent="1">
          <mxGeometry x="532" y="447" width="450" height="121" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-16" value="ECS containers hosting the FastAPI server running on FARGATE, based on the fact that the API server is stateless we could use FARGATE_SPOT for the sake of reducing operational costs." style="text;html=1;align=left;verticalAlign=top;spacingTop=-4;fontSize=14;labelBackgroundColor=none;whiteSpace=wrap;" vertex="1" parent="1">
          <mxGeometry x="533" y="564" width="449" height="114" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-17" value="Multi-AZ RDS instance with a Read Replica in another region to prevent unncesary traffic for read operations as well as reducing overhead on master server." style="text;html=1;align=left;verticalAlign=top;spacingTop=-4;fontSize=14;labelBackgroundColor=none;whiteSpace=wrap;" vertex="1" parent="1">
          <mxGeometry x="533" y="680" width="450" height="118" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-18" value="One Redis cluster per region with multi-az shard distribution for availability purposes." style="text;html=1;align=left;verticalAlign=top;spacingTop=-4;fontSize=14;labelBackgroundColor=none;whiteSpace=wrap;" vertex="1" parent="1">
          <mxGeometry x="533" y="795" width="449" height="113" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-19" value="ECR repository to store&amp;nbsp; both FastAPI container images, and the front end container images" style="text;html=1;align=left;verticalAlign=top;spacingTop=-4;fontSize=14;labelBackgroundColor=none;whiteSpace=wrap;" vertex="1" parent="1">
          <mxGeometry x="533" y="914" width="449" height="124" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-20" value="&lt;div&gt;Assumptions:&lt;/div&gt;&lt;div&gt;&lt;ul&gt;&lt;li&gt;Back-up is not taken into account, it is suggested to use RDS snapshots and perform restoration drills every 3 months.&lt;/li&gt;&lt;li&gt;Monitoring is not taken into account, Cloudwatch can be used and container insights is suggested for ECS.&lt;/li&gt;&lt;li&gt;IaC is not being considered although strongly suggested, if to be used relevant IAM resources must be placed.&lt;br&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=top;spacingTop=-4;fontSize=14;labelBackgroundColor=none;whiteSpace=wrap;" vertex="1" parent="1">
          <mxGeometry x="482.5" y="1160" width="449" height="115" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-89" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="QfXva4Vi_orBSrp60xKn-90" target="QfXva4Vi_orBSrp60xKn-91">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-90" value="" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#232F3D;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.office_building;" vertex="1" parent="1">
          <mxGeometry x="-890" y="636" width="50" height="78" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-91" value="VPN Gateway&lt;br&gt;(duplicated for&lt;br&gt;diagram simplicity)" style="outlineConnect=0;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;shape=mxgraph.aws3.vpn_gateway;fillColor=#F58536;gradientColor=none;" vertex="1" parent="1">
          <mxGeometry x="-780" y="639" width="69" height="72" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-92" value="2" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#007CBD;strokeColor=none;fontColor=#FFFFFF;fontStyle=1;fontSize=22;labelBackgroundColor=none;" vertex="1" parent="1">
          <mxGeometry x="-740" y="589" width="40" height="38" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-135" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="QfXva4Vi_orBSrp60xKn-131">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-430" y="780" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-430" y="656" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-240" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontColor=#FF2414;" edge="1" parent="1" source="QfXva4Vi_orBSrp60xKn-238" target="QfXva4Vi_orBSrp60xKn-224">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-242" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontColor=#FF2414;" edge="1" parent="1" source="QfXva4Vi_orBSrp60xKn-238" target="QfXva4Vi_orBSrp60xKn-241">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-238" value="" style="outlineConnect=0;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;shape=mxgraph.aws3.user;fillColor=#D2D3D3;gradientColor=none;fontColor=#FF2414;" vertex="1" parent="1">
          <mxGeometry x="-890" y="320" width="45" height="63" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-239" value="Cloudfront&lt;br&gt;Distribution" style="outlineConnect=0;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;shape=mxgraph.aws3.cloudfront;fillColor=#F58536;gradientColor=none;" vertex="1" parent="1">
          <mxGeometry x="-199" y="315" width="76.5" height="93" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-224" value="Cloudfront&lt;br&gt;Distribution" style="outlineConnect=0;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;shape=mxgraph.aws3.cloudfront;fillColor=#F58536;gradientColor=none;" vertex="1" parent="1">
          <mxGeometry x="-780" y="239.5" width="76.5" height="93" as="geometry" />
        </mxCell>
        <mxCell id="QfXva4Vi_orBSrp60xKn-241" value="Public Application LB with public DNS name" style="outlineConnect=0;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;shape=mxgraph.aws3.application_load_balancer;fillColor=#F58536;gradientColor=none;" vertex="1" parent="1">
          <mxGeometry x="-780" y="378" width="69" height="72" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
